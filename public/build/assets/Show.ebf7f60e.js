import{o as r,f as n,d as s,a as o,w as h,b as l,L as w,F as f,A as p,c as y,t as _,j as C,k as D,z as d,n as v,g as F,v as S,H as O}from"./app.4e3604f7.js";import{_ as V}from"./AuthenticatedLayout.4f39ad32.js";import{C as j}from"./ClothingImage.7db9c15c.js";import{_ as A}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as H}from"./BackLink.032244e3.js";function N(e,t){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})])}function q(e,t){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})])}function X(e,t){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 15a4.5 4.5 0 004.5 4.5H18a3.75 3.75 0 001.332-7.257 3 3 0 00-3.758-3.848 5.25 5.25 0 00-10.233 2.33A4.502 4.502 0 002.25 15z"})])}function $(e,t){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})])}function L(e,t){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function z(e,t){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})])}function P(e,t){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.5 18.5C6.30653 18.5 5.16193 18.0259 4.31802 17.182C3.47411 16.3381 3 15.1935 3 14C3.00004 13.0528 3.29879 12.1298 3.85374 11.3623C4.40869 10.5948 5.19158 10.0218 6.091 9.72498C5.8297 8.38615 6.09976 6.99818 6.84398 5.855C7.58821 4.71181 8.74817 3.90318 10.0782 3.60033C11.4083 3.29749 12.804 3.52422 13.9698 4.2325C15.1356 4.94078 15.9799 6.07501 16.324 7.39498C16.856 7.22196 17.4258 7.20114 17.969 7.33488C18.5122 7.46862 19.0072 7.75159 19.3981 8.15182C19.789 8.55206 20.0602 9.05362 20.181 9.59985"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10V11.375M18.8891 11.6109L17.9168 12.5832M20.5 15.5H19.125M18.8891 19.3891L17.9168 18.4168M15 19.625V21M12.0832 18.4168L11.1109 19.3891M10.875 15.5H9.5M12.0832 12.5832L11.1109 11.6109"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 15.5C17 16.0304 16.7893 16.5391 16.4142 16.9142C16.0391 17.2893 15.5304 17.5 15 17.5C14.4696 17.5 13.9609 17.2893 13.5858 16.9142C13.2107 16.5391 13 16.0304 13 15.5C13 14.9696 13.2107 14.4609 13.5858 14.0858C13.9609 13.7107 14.4696 13.5 15 13.5C15.5304 13.5 16.0391 13.7107 16.4142 14.0858C16.7893 14.4609 17 14.9696 17 15.5Z"})])}function R(e,t){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[s("path",{d:"M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z"})])}function T(e,t){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[s("path",{"fill-rule":"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z","clip-rule":"evenodd"})])}const E={class:"card p-0 gap-0 snap-start"},Z={class:"flex flex-row text-amber-600"},G={key:0,class:"text-xl"},J={key:0,class:"flex flex-col gap-2 px-2 pb-2"},K={__name:"ClothingCard",props:{clothing:Object,showActions:{type:Boolean,default:!1}},setup(e){return(t,i)=>(r(),n("div",E,[o(j,{clothing:e.clothing},{actions:h(()=>[o(l(w),{class:"btn-icon",href:t.route("clothing.edit",e.clothing)},{default:h(()=>[o(l(R),{class:"h-4 w-4"})]),_:1},8,["href"])]),_:1},8,["clothing"]),o(l(w),{class:"p-4",href:t.route("clothing.show",e.clothing)},{default:h(()=>[s("div",Z,[(r(!0),n(f,null,p(parseInt(e.clothing.note),m=>(r(),y(l(T),{class:"h-6 w-6"}))),256))]),e.clothing.name?(r(),n("h4",G,_(e.clothing.name),1)):C("",!0)]),_:1},8,["href"]),e.showActions?(r(),n("div",J,[o(l(w),{class:"btn-primary",href:t.route("clothing.edit",e.clothing)},{default:h(()=>[D(" Modifier ")]),_:1},8,["href"])])):C("",!0)]))}},Q={components:{ListBulletIcon:$,Squares2X2Icon:z},props:{forecast:Object},data(){return{view:"list",orderBy:"note:desc"}},computed:{weatherImageSrc(){return"/img/"+(this.forecast.is_rainy?"rainy":"dry")+".png"},temperatureImageSrc(){return"/img/"+(this.forecast.is_cold?"cold":"hot")+".png"},temperature(){return Math.round(this.forecast.temp*10)/10},temperatureMin(){return Math.floor(this.forecast.temp_min*10)/10},temperatureMax(){return Math.ceil(this.forecast.temp_max*10)/10}}},U={class:"my-8 w-full grid grid-cols-3 items-center justify-items-center"},Y=["src"],ee=["src"],te={class:"flex flex-col items-center"},se={class:"text-3xl"};function re(e,t,i,m,c,a){return r(),n("div",U,[s("img",{class:"h-16",src:a.weatherImageSrc},null,8,Y),s("img",{class:"h-16",src:a.temperatureImageSrc},null,8,ee),s("div",te,[s("span",se,_(a.temperature)+"\xB0C",1)])])}const ne=A(Q,[["render",re]]),oe={components:{ArrowLeftIcon:N,ArrowRightIcon:q,ClothingImage:j,WeatherForecastInfo:ne},props:{dressing:Object},data(){return{dayIndex:0}},mounted(){this.showIncomingForecast()},methods:{showIncomingForecast(){for(let e=0;e<this.daysWeatherForecasts.length;e++)if(Date.now()<new Date(this.daysWeatherForecasts[e].forecast_dt).getTime()){this.dayIndex=e;break}},previousDay(){this.canPreviousDay&&--this.dayIndex},nextDay(){this.canNextDay&&++this.dayIndex}},computed:{clothesSuggestions(){return this.dressing.weather_suggestions[this.dayIndex].map(e=>this.dressing.clothes.find(t=>t.id===e))},canPreviousDay(){return this.dayIndex>0},canNextDay(){return this.dayIndex<this.daysWeatherForecasts.length-1},daysWeatherForecasts(){return Object.values(this.dressing.city.weather_forecasts)},dayWeatherForecast(){return this.daysWeatherForecasts[this.dayIndex]}}},ae={class:"card"},ie={class:"flex flex-row justify-between items-center"},ce={class:"flex flex-col items-center"},le={class:"capitalize"},de={class:"text-neutral-500"},he={class:"flex flex-row justify-between"},ue=s("span",{class:"mx-auto"},"V\xEAtements recommand\xE9s",-1),ge={class:"overflow-auto grid grid-flow-col auto-cols-[30vw] sm:auto-cols-[35vw] md:auto-cols-[20vw] grid-rows-1 gap-4 -mx-4 -mb-10 pb-12 px-3 pb-4 scroll-px-4 snap-x"};function fe(e,t,i,m,c,a){const k=d("ArrowLeftIcon"),b=d("ArrowRightIcon"),I=d("WeatherForecastInfo"),M=d("ClothingImage");return r(),n("div",ae,[s("div",ie,[s("button",{onClick:t[0]||(t[0]=(...u)=>a.previousDay&&a.previousDay(...u)),class:v(["btn-secondary",!a.canPreviousDay&&"opacity-0 pointer-events-none"])},[o(k,{class:"h-6 w-6"})],2),s("div",ce,[s("span",le,_(a.dayWeatherForecast.date),1),s("span",de,_(a.dayWeatherForecast.day_part_string),1)]),s("button",{onClick:t[1]||(t[1]=(...u)=>a.nextDay&&a.nextDay(...u)),class:v(["btn-secondary",!a.canNextDay&&"opacity-0 pointer-events-none"])},[o(b,{class:"h-6 w-6"})],2)]),s("div",he,[o(I,{forecast:a.dayWeatherForecast},null,8,["forecast"])]),ue,s("div",ge,[(r(!0),n(f,null,p(a.clothesSuggestions,u=>(r(),y(M,{clothing:u},null,8,["clothing"]))),256))])])}const me=A(oe,[["render",fe]]),we={class:"card p-0 gap-0 snap-start bg-opacity-0 border-2 border-dashed"},_e={__name:"ClothingAddInCategoryCard",props:{dressing:Object,category:Object},setup(e){return(t,i)=>{var m;return r(),n("div",we,[o(l(w),{href:t.route("clothing.create",{dressing:e.dressing.id,category:(m=e.category)==null?void 0:m.id}),class:"h-full w-full flex flex-col gap-3 items-center justify-center"},{default:h(()=>[o(l(L),{class:"h-8 w-8 text-amber-600"})]),_:1},8,["href"])])}}},pe={components:{WeatherIcon:P,ClothingAddCard:_e,ListBulletIcon:$,Squares2X2Icon:z,CloudIcon:X,ClothingImage:j,ClothingCard:K,DressingWeatherSuggestions:me},props:{dressing:Object,categories:Object},data(){return{view:"list",orderBy:"note:desc",showWeather:!0}},methods:{clothesOfCategory(e){return this.orderedClothes(this.dressing.clothes.filter(t=>parseInt(t.category)===e))},orderedClothes(e=this.dressing.clothes){return e.sort((t,i)=>{if(this.orderBy==="note:desc")return Date.parse(t.created_at)-Date.parse(i.created_at);if(this.orderBy==="note:asc")return Date.parse(i.created_at)-Date.parse(t.created_at);if(this.orderBy==="note:desc")return t.note-i.note;if(this.orderBy==="note:asc")return i.note-t.note})}}},ve={class:"mb-4 flex flex-row flex-wrap gap-2"},xe={class:"flex flex-row bg-neutral-100 rounded-md"},ye={key:0,class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 my-6"},Ce={key:0,class:"mt-6"},ke={class:"h2"},be={class:"overflow-auto grid grid-flow-col auto-cols-[40vw] sm:auto-cols-[35vw] md:auto-cols-[20vw] grid-rows-1 gap-4 -mx-3 my-4 px-3 pb-4 scroll-px-4 snap-x"};function Ie(e,t,i,m,c,a){const k=d("ListBulletIcon"),b=d("Squares2X2Icon"),I=d("WeatherIcon"),M=d("DressingWeatherSuggestions"),u=d("ClothingCard"),B=d("ClothingAddCard");return r(),n(f,null,[s("div",ve,[s("div",xe,[s("button",{class:v(c.view==="list"?"btn-primary":"btn-secondary"),onClick:t[0]||(t[0]=g=>c.view="list")},[o(k,{class:"h-6 w-6"})],2),s("button",{class:v(c.view==="grid"?"btn-primary":"btn-secondary"),onClick:t[1]||(t[1]=g=>c.view="grid")},[o(b,{class:"h-6 w-6"})],2)]),s("button",{class:v(c.showWeather?"btn-primary":"btn-secondary"),onClick:t[2]||(t[2]=g=>c.showWeather=!c.showWeather)},[o(I,{class:"h-6 w-6"})],2),C("",!0)]),F(o(M,{dressing:i.dressing},null,8,["dressing"]),[[S,c.showWeather]]),c.view==="grid"?(r(),n("div",ye,[(r(!0),n(f,null,p(this.dressing.clothes,g=>(r(),y(u,{clothing:g,key:Date.now()+g.id},null,8,["clothing"]))),128)),o(B,{dressing:i.dressing},null,8,["dressing"])])):(r(!0),n(f,{key:1},p(Object.entries(i.categories),([g,x])=>(r(),n(f,null,[a.clothesOfCategory(x).length?(r(),n("div",Ce,[s("h2",ke,_(g),1),s("div",be,[(r(!0),n(f,null,p(a.clothesOfCategory(x),W=>(r(),y(u,{clothing:W,showActions:x===0,key:Date.now()+W.id},null,8,["clothing","showActions"]))),128)),o(B,{dressing:i.dressing,category:{name:g,id:x}},null,8,["dressing","category"])])])):C("",!0)],64))),256))],64)}const Me=A(pe,[["render",Ie]]),De={class:"h1"},je={class:"mb-6 flex flex-wrap gap-2"},ze={__name:"Show",props:{dressing:{type:Object},categories:{type:Object}},setup(e){return(t,i)=>(r(),n(f,null,[o(l(O),{title:"Dressing "+e.dressing.name},null,8,["title"]),o(V,null,{navigation:h(()=>[o(H)]),header:h(()=>[s("h1",De,_(e.dressing.name),1)]),default:h(()=>[s("div",je,[o(l(w),{class:"btn-primary",href:t.route("clothing.create",{dressing:e.dressing.id})},{default:h(()=>[o(l(L),{class:"h-6 w-6"}),D(" V\xEAtement ")]),_:1},8,["href"]),o(l(w),{class:"btn-secondary",href:t.route("dressing.edit",e.dressing)},{default:h(()=>[D(" Modifier le dressing ")]),_:1},8,["href"])]),o(Me,{dressing:e.dressing,categories:e.categories},null,8,["dressing","categories"])]),_:1})],64))}};export{ze as default};
