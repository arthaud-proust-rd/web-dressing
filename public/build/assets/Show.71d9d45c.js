import{o as s,g as o,d as e,s as l,a as i,t as d,k as w,n as m,F as g,x as f,c as b,h as A,v as W,b as M,w as B,H as j,e as F}from"./app.d40d5043.js";import{_ as z}from"./AuthenticatedLayout.79d93505.js";import{C as I}from"./ClothingImage.12e43ded.js";import{_ as p}from"./ApplicationLogo.88c1d252.js";function O(r,t){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})])}function V(r,t){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})])}function H(r,t){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 15a4.5 4.5 0 004.5 4.5H18a3.75 3.75 0 001.332-7.257 3 3 0 00-3.758-3.848 5.25 5.25 0 00-10.233 2.33A4.502 4.502 0 002.25 15z"})])}function $(r,t){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})])}function L(r,t){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function S(r,t){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})])}const N={components:{ClothingImage:I},props:{clothing:Object,showActions:{type:Boolean,default:!1}}},q={class:"card p-0 gap-0 snap-start"},R=["href"],X={class:"text-sm text-gray-400"},P={key:0,class:"text-xl"},E={key:0,class:"flex flex-col gap-2 px-2 pb-2"},T=e("a",{class:"btn-primary",href:"{{ route('clothing.edit', clothing) }}"}," Modifier ",-1),G=[T];function J(r,t,a,x,c,n){const _=l("ClothingImage");return s(),o("div",q,[i(_,{clothing:a.clothing},null,8,["clothing"]),e("a",{class:"p-4",href:r.route("clothing.show",a.clothing)},[e("span",X,"Not\xE9 "+d(a.clothing.note)+"/3",1),a.clothing.name?(s(),o("h4",P,d(a.clothing.name),1)):w("",!0)],8,R),a.showActions?(s(),o("div",E,G)):w("",!0)])}const K=p(N,[["render",J]]),Q={components:{ListBulletIcon:$,Squares2X2Icon:S},props:{forecast:Object},data(){return{view:"list",orderBy:"note:desc"}},computed:{weatherImageSrc(){return"/img/"+(this.forecast.is_rainy?"rainy":"dry")+".png"},temperatureImageSrc(){return"/img/"+(this.forecast.is_cold?"cold":"hot")+".png"},temperature(){return Math.round(this.forecast.temp*10)/10},temperatureMin(){return Math.floor(this.forecast.temp_min*10)/10},temperatureMax(){return Math.ceil(this.forecast.temp_max*10)/10}}},U={class:"my-8 w-full grid grid-cols-3 items-center justify-items-center"},Y=["src"],Z=["src"],ee={class:"flex flex-col items-center"},te={class:"text-3xl"},se={class:"text-sky-500"},re={class:"text-orange-500"};function oe(r,t,a,x,c,n){return s(),o("div",U,[e("img",{class:"h-20",src:n.weatherImageSrc},null,8,Y),e("img",{class:"h-20",src:n.temperatureImageSrc},null,8,Z),e("div",ee,[e("span",te,d(n.temperature)+"\xB0C",1),e("span",se,d(n.temperatureMin)+"\xB0C",1),e("span",re,d(n.temperatureMax)+"\xB0C",1)])])}const ne=p(Q,[["render",oe]]),ae={components:{ArrowLeftIcon:O,ArrowRightIcon:V,ClothingImage:I,WeatherForecastInfo:ne},props:{dressing:Object},data(){return{dayIndex:0,clothesSuggestions:[]}},mounted(){this.fetchForecastClothesSuggestions()},methods:{previousDay(){this.canPreviousDay&&--this.dayIndex,this.handleDayChange()},nextDay(){this.canNextDay&&++this.dayIndex,this.handleDayChange()},handleDayChange(){this.fetchForecastClothesSuggestions()},async fetchForecastClothesSuggestions(){const r=await axios.get(route("api.dressing.weather-suggestions",{dressing:this.dressing.id,weatherForecast:this.dayWeatherForecast.id}));this.clothesSuggestions=r.data}},computed:{canPreviousDay(){return this.dayIndex>0},canNextDay(){return this.dayIndex<this.daysWeatherForecasts.length-1},daysWeatherForecasts(){return Object.values(this.dressing.city.weather_forecasts)},dayWeatherForecast(){return this.daysWeatherForecasts[this.dayIndex]}}},ce={class:"card"},ie={class:"flex flex-row justify-between items-center"},le={class:"flex flex-col items-center"},de={class:"capitalize"},he={class:"text-neutral-500"},ue={class:"flex flex-row justify-between"},ge=e("span",{class:"mx-auto"},"V\xEAtements recommand\xE9s",-1),_e={class:"overflow-auto grid grid-flow-col auto-cols-[30vw] sm:auto-cols-[35vw] md:auto-cols-[20vw] grid-rows-1 gap-4 -mx-4 -mb-10 pb-12 px-3 pb-4 scroll-px-4 snap-x"};function me(r,t,a,x,c,n){const _=l("ArrowLeftIcon"),y=l("ArrowRightIcon"),v=l("WeatherForecastInfo"),C=l("ClothingImage");return s(),o("div",ce,[e("div",ie,[e("button",{onClick:t[0]||(t[0]=(...h)=>n.previousDay&&n.previousDay(...h)),class:m(["btn-secondary",!n.canPreviousDay&&"opacity-0 pointer-events-none"])},[i(_,{class:"h-6 w-6"})],2),e("div",le,[e("span",de,d(n.dayWeatherForecast.date),1),e("span",he,d(n.dayWeatherForecast.day_part),1)]),e("button",{onClick:t[1]||(t[1]=(...h)=>n.nextDay&&n.nextDay(...h)),class:m(["btn-secondary",!n.canNextDay&&"opacity-0 pointer-events-none"])},[i(y,{class:"h-6 w-6"})],2)]),e("div",ue,[i(v,{forecast:n.dayWeatherForecast},null,8,["forecast"])]),ge,e("div",_e,[(s(!0),o(g,null,f(c.clothesSuggestions,h=>(s(),b(C,{clothing:h},null,8,["clothing"]))),256))])])}const fe=p(ae,[["render",me]]),we={components:{ListBulletIcon:$,Squares2X2Icon:S,CloudIcon:H,ClothingImage:I,ClothingCard:K,DressingWeatherSuggestions:fe},props:{dressing:Object,categories:Object},data(){return{view:"list",orderBy:"note:desc",showWeather:!0}},updated(){console.log(this.categories),console.log(this.dressing)},methods:{clothesOfCategory(r){return this.dressing.clothes.filter(t=>t.category===r)},orderedClothes(r=this.dressing.clothes){return r.sort((t,a)=>{if(this.orderBy==="note:desc")return Date.parse(t.created_at)-Date.parse(a.created_at);if(this.orderBy==="note:asc")return Date.parse(a.created_at)-Date.parse(t.created_at);if(this.orderBy==="note:desc")return t.note-a.note;if(this.orderBy==="note:asc")return a.note-t.note})}}},pe={class:"mb-4 flex flex-row flex-wrap gap-2"},xe={class:"flex flex-row bg-neutral-100 rounded-md"},ye={key:0,class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 my-6"},ve={key:0,class:"mt-6"},Ce={class:"h2"},ke={class:"overflow-auto grid grid-flow-col auto-cols-[40vw] sm:auto-cols-[35vw] md:auto-cols-[20vw] grid-rows-1 gap-4 -mx-3 my-4 px-3 pb-4 scroll-px-4 snap-x"};function be(r,t,a,x,c,n){const _=l("ListBulletIcon"),y=l("Squares2X2Icon"),v=l("CloudIcon"),C=l("DressingWeatherSuggestions"),h=l("ClothingCard");return s(),o(g,null,[e("div",pe,[e("div",xe,[e("button",{class:m(c.view==="list"?"btn-primary":"btn-secondary"),onClick:t[0]||(t[0]=u=>c.view="list")},[i(_,{class:"h-6 w-6"})],2),e("button",{class:m(c.view==="grid"?"btn-primary":"btn-secondary"),onClick:t[1]||(t[1]=u=>c.view="grid")},[i(y,{class:"h-6 w-6"})],2)]),e("button",{class:m(c.showWeather?"btn-primary":"btn-secondary"),onClick:t[2]||(t[2]=u=>c.showWeather=!c.showWeather)},[i(v,{class:"h-6 w-6"})],2),w("",!0)]),A(i(C,{dressing:a.dressing},null,8,["dressing"]),[[W,c.showWeather]]),c.view==="grid"?(s(),o("div",ye,[(s(!0),o(g,null,f(this.dressing.clothes,u=>(s(),b(h,{clothing:u,key:Date.now()+u.id},null,8,["clothing"]))),128))])):(s(!0),o(g,{key:1},f(Object.entries(a.categories),([u,k])=>(s(),o(g,null,[n.clothesOfCategory(k).length?(s(),o("div",ve,[e("h2",Ce,d(u),1),e("div",ke,[(s(!0),o(g,null,f(n.clothesOfCategory(k),D=>(s(),b(h,{clothing:D,showActions:k===0,key:Date.now()+D.id},null,8,["clothing","showActions"]))),128))])])):w("",!0)],64))),256))],64)}const Ie=p(we,[["render",be]]),De=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Dashboard ",-1),Me=["href"],Be={class:"h1"},$e={class:"mb-6 flex flex-wrap gap-2"},Se=["href"],Ae=["href"],Oe={__name:"Show",props:{dressing:{type:Object},categories:{type:Object}},setup(r){return(t,a)=>(s(),o(g,null,[i(M(j),{title:"Dashboard"}),i(z,null,{header:B(()=>[De]),default:B(()=>[e("a",{class:"text-gray-400 mb-3",href:t.route("dressing.index")},"Retour \xE0 la liste des dressings",8,Me),e("h1",Be,"Dressing "+d(r.dressing.name),1),e("div",$e,[e("a",{class:"btn-primary",href:t.route("dressing.add-clothing",r.dressing)},[i(M(L),{class:"h-6 w-6"}),F(" V\xEAtement ")],8,Se),e("a",{class:"btn-secondary",href:t.route("dressing.edit",r.dressing)}," Modifier le dressing ",8,Ae)]),i(Ie,{dressing:r.dressing,categories:r.categories},null,8,["dressing","categories"])]),_:1})],64))}};export{Oe as default};
